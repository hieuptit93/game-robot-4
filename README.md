# ThÃ¡p Xáº¿p Tá»« Vá»±ng - TrÃ² ChÆ¡i Luyá»‡n PhÃ¡t Ã‚m

TrÃ² chÆ¡i luyá»‡n phÃ¡t Ã¢m 3D Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i React, React Three Fiber vÃ  cÃ´ng cá»¥ váº­t lÃ½ Rapier. NgÆ°á»i chÆ¡i xÃ¢y dá»±ng thÃ¡p báº±ng cÃ¡ch "phÃ¡t Ã¢m" cÃ¡c Ä‘oáº¡n vÄƒn báº£n, vá»›i cháº¥t lÆ°á»£ng phÃ¡t Ã¢m khÃ¡c nhau áº£nh hÆ°á»Ÿng Ä‘áº¿n váº­t lÃ½ vÃ  Ä‘á»™ á»•n Ä‘á»‹nh cá»§a cÃ¡c khá»‘i.

## ğŸ® TÃ­nh NÄƒng TrÃ² ChÆ¡i

### Lá»‘i ChÆ¡i Cá»‘t LÃµi
- **MÃ´ Phá»ng PhÃ¡t Ã‚m**: Nháº¥n A (HoÃ n háº£o), S (Táº¡m Ä‘Æ°á»£c), hoáº·c D (Tháº¥t báº¡i) Ä‘á»ƒ mÃ´ phá»ng cháº¥t lÆ°á»£ng phÃ¡t Ã¢m
- **XÃ¢y ThÃ¡p Dá»±a TrÃªn Váº­t LÃ½**: Má»—i khá»‘i cÃ³ thuá»™c tÃ­nh váº­t lÃ½ thá»±c táº¿ dá»±a trÃªn cháº¥t lÆ°á»£ng phÃ¡t Ã¢m
- **Há»‡ Thá»‘ng Combo**: Äáº¡t 3 láº§n phÃ¡t Ã¢m hoÃ n háº£o liÃªn tiáº¿p Ä‘á»ƒ kÃ­ch hoáº¡t cháº¿ Ä‘á»™ combo vá»›i Ä‘á»™ á»•n Ä‘á»‹nh tÄƒng cÆ°á»ng
- **Sá»¥p Äá»• ThÃ¡p**: PhÃ¡t Ã¢m kÃ©m táº¡o ra cÃ¡c khá»‘i khÃ´ng á»•n Ä‘á»‹nh cÃ³ thá»ƒ khiáº¿n toÃ n bá»™ thÃ¡p Ä‘á»•

### Hiá»‡u á»¨ng HÃ¬nh áº¢nh & Ã‚m Thanh
- **Äá»“ Há»a 3D**: MÃ´i trÆ°á»ng 3D sá»‘ng Ä‘á»™ng vá»›i Ã¡nh sÃ¡ng vÃ  bÃ³ng Ä‘á»• Ä‘á»™ng
- **Hiá»‡u á»¨ng Khá»‘i**: MÃ u sáº¯c phÃ¡t sÃ¡ng vÃ  thuá»™c tÃ­nh váº­t lÃ½ khÃ¡c nhau cho má»—i cháº¥t lÆ°á»£ng phÃ¡t Ã¢m
- **Rung MÃ n HÃ¬nh**: Hiá»‡u á»©ng sá»¥p Ä‘á»• áº¥n tÆ°á»£ng vá»›i rung camera
- **Pháº£n Há»“i Ã‚m Thanh**: Hiá»‡u á»©ng Ã¢m thanh tá»± Ä‘á»™ng cho má»—i loáº¡i hÃ nh Ä‘á»™ng
- **Aura Combo**: Hiá»‡u á»©ng phÃ¡t sÃ¡ng trong cháº¿ Ä‘á»™ combo

### ThÃ nh Pháº§n Giao Diá»‡n
- **HUD TrÃªn**: Äiá»ƒm sá»‘, sá»‘ lÆ°á»£ng khá»‘i, Ä‘á»“ng há»“ Ä‘áº¿m ngÆ°á»£c vÃ  chá»‰ bÃ¡o combo
- **Giao Diá»‡n DÆ°á»›i**: Lá»i nháº¯c tá»« hiá»‡n táº¡i, thanh Ä‘á»™ trÃ´i cháº£y, vÄƒn báº£n pháº£n há»“i vÃ  hÆ°á»›ng dáº«n Ä‘iá»u khiá»ƒn
- **MÃ n HÃ¬nh Káº¿t ThÃºc**: Hiá»ƒn thá»‹ Ä‘iá»ƒm cuá»‘i vá»›i tÃ¹y chá»n chÆ¡i láº¡i

## ğŸš€ Báº¯t Äáº§u

### YÃªu Cáº§u Há»‡ Thá»‘ng
- Node.js (phiÃªn báº£n 16 trá»Ÿ lÃªn)
- npm hoáº·c yarn

### CÃ i Äáº·t

1. Sao chÃ©p hoáº·c táº£i xuá»‘ng cÃ¡c tá»‡p dá»± Ã¡n
2. CÃ i Ä‘áº·t cÃ¡c phá»¥ thuá»™c:
```bash
npm install
```

3. Khá»Ÿi Ä‘á»™ng mÃ¡y chá»§ phÃ¡t triá»ƒn:
```bash
npm start
```

4. Má»Ÿ [http://localhost:3000](http://localhost:3000) Ä‘á»ƒ chÆ¡i trÃ² chÆ¡i

## ğŸ¯ CÃ¡ch ChÆ¡i

1. **Báº¯t Äáº§u**: Nháº¥n báº¥t ká»³ phÃ­m nÃ o (A, S, hoáº·c D) Ä‘á»ƒ báº¯t Ä‘áº§u
2. **XÃ¢y Dá»±ng**: Sá»­ dá»¥ng Ä‘áº§u vÃ o bÃ n phÃ­m Ä‘á»ƒ thÃªm khá»‘i:
   - **PhÃ­m A**: PhÃ¡t Ã¢m hoÃ n háº£o (âœ…) - Khá»‘i á»•n Ä‘á»‹nh, cÄƒn giá»¯a (+100 Ä‘iá»ƒm)
   - **PhÃ­m S**: Váº¥n Ä‘á» nhá» (âš ï¸) - Khá»‘i hÆ¡i nghiÃªng (+50 Ä‘iá»ƒm)  
   - **PhÃ­m D**: PhÃ¡t Ã¢m kÃ©m (âŒ) - Khá»‘i nghiÃªng nhiá»u, lá»‡ch vá»‹ trÃ­ (+0 Ä‘iá»ƒm)
3. **Combo**: Äáº¡t 3 láº§n phÃ¡t Ã¢m hoÃ n háº£o liÃªn tiáº¿p cho cháº¿ Ä‘á»™ combo (+150 Ä‘iá»ƒm má»—i khá»‘i hoÃ n háº£o)
4. **Sinh Tá»“n**: Giá»¯ thÃ¡p á»•n Ä‘á»‹nh - náº¿u nghiÃªng quÃ¡ nhiá»u, nÃ³ sáº½ Ä‘á»•!
5. **Ghi Äiá»ƒm**: XÃ¢y cao nháº¥t cÃ³ thá»ƒ trong giá»›i háº¡n thá»i gian 2 phÃºt

## ğŸ›  Technical Architecture

### Technologies Used
- **React 18**: Component-based UI framework
- **TypeScript**: Type-safe development
- **React Three Fiber**: React renderer for Three.js
- **@react-three/rapier**: Physics engine integration
- **@react-three/drei**: Useful helpers for R3F

### Project Structure
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ GameContainer.tsx     # Main game logic and state management
â”‚   â”œâ”€â”€ TopHud.tsx           # Score, timer, combo display
â”‚   â”œâ”€â”€ BottomUi.tsx         # Input controls and feedback
â”‚   â”œâ”€â”€ TowerStackScene.tsx  # 3D scene setup and physics world
â”‚   â””â”€â”€ TowerBlock.tsx       # Individual block physics and rendering
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useGameState.ts      # Game state management
â”‚   â””â”€â”€ useAudio.ts          # Audio effects system
â”œâ”€â”€ types/
â”‚   â””â”€â”€ game.ts              # TypeScript type definitions
â””â”€â”€ App.tsx                  # Root application component
```

### Key Features Implementation

#### Physics System
- Each block is a Rapier RigidBody with realistic collision detection
- Block stability affects tower integrity
- Rotation thresholds trigger collapse events

#### Audio System
- Procedural audio generation using Web Audio API
- Different tones for each pronunciation quality
- Combo and collapse sound effects

#### Visual Effects
- Dynamic camera that follows tower height
- Glow effects for new blocks
- Screen shake during collapse
- Combo aura lighting effects

## ğŸ¨ Customization

### Adding New Chunks
Edit the `CHUNKS` array in `src/hooks/useGameState.ts`:
```typescript
const CHUNKS = [
  "Your custom phrase",
  "Another practice sentence",
  // Add more chunks here
];
```

### Adjusting Physics
Modify block properties in `src/components/TowerBlock.tsx`:
- Rotation angles for different pronunciation qualities
- Position offsets for failure blocks
- Stability thresholds

### Visual Styling
- Colors and effects can be modified in component style objects
- 3D lighting and materials in `TowerStackScene.tsx`
- UI styling in individual component files

## ğŸ“± Browser Compatibility

- Modern browsers with WebGL support
- Chrome, Firefox, Safari, Edge (latest versions)
- Mobile browsers (with touch controls for A/S/D inputs)

## ğŸ”§ Development

### Available Scripts
- `npm start`: Development server
- `npm build`: Production build
- `npm test`: Run tests
- `npm eject`: Eject from Create React App

### Performance Notes
- Physics calculations are optimized for 60fps
- Block count affects performance (recommended max: ~20 blocks)
- Audio context is created on-demand to avoid browser restrictions

## ğŸ“ Educational Use

This game demonstrates:
- 3D physics simulation in web browsers
- React integration with Three.js
- Real-time audio generation
- Game state management patterns
- TypeScript in React applications

Perfect for learning modern web development with 3D graphics and physics!